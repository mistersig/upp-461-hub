<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>UPP 461 • Week 9 • Spatial joins</title>
<link href="../style.css" rel="stylesheet"/><script>// Set theme before paint to avoid flash (default: light)
(function(){
  try {
    var t = localStorage.getItem('theme');
    if (t !== 'dark' && t !== 'light') t = 'light';
    document.documentElement.setAttribute('data-theme', t);
  } catch(e) {}
})();</script>
</head>
<body><a class="skip-link" href="#main">Skip to main content</a>
<header>
<div class="container">
<div class="header-row">
<div>
<div class="course-links">
<a aria-label="Go to the start of the Week 9 module" class="course-home" href="../index.html">UPP 461 • Week 9</a>
<a aria-label="Go to course home" class="course-exit" href="../../../index.html">Home</a>
</div>
<h1>Spatial Analysis</h1>
<p class="small">For educational purposes only. Not for navigation, surveying, engineering design, or legal boundary determination.</p>
</div>
<div aria-label="Header controls" class="controls">
<button aria-label="Toggle theme" aria-pressed="false" class="ghost" data-theme-toggle="" type="button">
          Theme: <span data-theme-label="">Light</span>
</button>
</div>
</div>
</div>
</header>
<div class="container"><div class="layout"><aside class="sidebar"><div class="card"><nav aria-label="Module navigation" class="nav"><a href="../index.html">Start here</a><a href="02-what-is-spatial-analysis.html">What is spatial analysis?</a><a href="03-policy-natural-experiments.html">Policy + natural experiments</a><a href="04-geoprocessing-tools.html">Geoprocessing tools</a><a aria-current="page" href="05-spatial-joins.html">Spatial joins</a><a href="06-advanced-techniques.html">Beyond the basics</a><a href="09-summary.html">Summary</a><a href="09-quiz.html">Quick quiz</a></nav></div></aside>
<main class="main" id="main" tabindex="-1">
<div class="main-head">
<h2 class="kicker">Spatial joins</h2>
</div>
<div class="card">
<p><strong>Spatial joins</strong> let you join attribute data based on spatial relationships (within, intersects, closest), not matching text keys.</p>
</div>
<h2>Join by attribute vs Spatial join</h2>
<div class="grid two">
<div class="card">
<h3>Join by attribute</h3>
<p>Tables are joined using a <strong>shared field</strong> (e.g., ID → ID).</p>
<p class="small">Great when your identifiers are clean and consistent.</p>
</div>
<div class="card">
<h3>Spatial join (join by location)</h3>
<p>Attributes are joined using a <strong>spatial relationship</strong> (within, intersect, closest, within a distance).</p>
<p class="small">Common use: <strong>count points in polygons</strong>.</p>
</div>
</div>
<h2>Key rule: output geometry matches the “target” layer</h2>
<div class="card">
<p>Whatever feature type you start the spatial join with, you end with:</p>
<ul>
<li>Target = polygons → output = polygons (with joined attributes/counts)</li>
<li>Target = points → output = points (with joined polygon attributes)</li>
</ul>
</div>
<details>
<summary>Check yourself: which layer should be the target?</summary>
<div class="card">
<p><strong>Question:</strong> “How many clinics fall inside each community area?”</p>
<p><strong>Target:</strong> community areas (polygons). <strong>Join:</strong> clinic points. <strong>Aggregate:</strong> count.</p>
</div>
</details>
<h2>Common failure mode: polygons that spill into “no data” areas</h2>
<div class="card">
<p><strong>Example (Chicago):</strong> Census tracts can extend into Lake Michigan. If you spatial join tracts to community areas using <em>intersect</em> or even centroid rules, you can get incorrect assignments.</p>
<p><strong>Fix workflow:</strong></p>
<ol>
<li><strong>Clip</strong> tracts by community areas (removes “lake spill”).</li>
<li>Run a spatial join using <strong>centroid within</strong> (or another defensible rule).</li>
<li><strong>Dissolve</strong> by community area and summarize as needed.</li>
</ol>
</div>
<details>
<summary>Check yourself: what should you validate after a spatial join?</summary>
<div class="card">
<ul>
<li>Spot-check boundaries where odd results are likely (water edges, enclaves).</li>
<li>Look for unexpected nulls or extreme counts.</li>
<li>Map the result and visually confirm the logic matches the question.</li>
</ul>
</div>
</details>
<div class="next-row">
<a class="btn next" href="06-advanced-techniques.html">Next section →</a>
</div>
<div class="footer">
<div class="footer-row">
<div><strong>Disclaimer:</strong> For educational purposes only. Not for navigation, surveying, engineering design, or legal boundary determination.</div>
<a class="bug-link" data-bug-report="" href="#">Report a bug</a>
</div>
<div class="small">Last updated: 2026-02-15</div>
</div>
</main>
</div></div>
<script src="../app.js"></script></body>
</html>
